<?php

/**
 * Implements hook_init().
 */
function moonmars_init() {
  // Activate debugging:
  dbg_on();

//  relation_delete(518);
}

/**
 * Implements hook_menu().
 */
function moonmars_menu() {
  $items = array();
  $items['home'] = array(
    'page callback' => 'moonmars_home',
    'access callback' => TRUE,
    'type' => MENU_CALLBACK
  );
  return $items;
}

/**
 * Redirect the user to the appropriate default start page.
 */
function moonmars_home() {
  if (user_is_logged_in()) {
    drupal_goto('profile');
  }
  else {
    drupal_goto('news');
  }
}

/**
 * Get the entity object for a node.
 */
function moonmars_get_entity($node) {
  $class = ucfirst($node->type);
  return $class::create($node);
}
